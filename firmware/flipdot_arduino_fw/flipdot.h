// flipdot.h

#ifndef _FLIPDOT_h
#define _FLIPDOT_h

#if defined(ARDUINO) && ARDUINO >= 100
	#include "arduino.h"
#else
	#include "WProgram.h"
#endif

#define SCREEN_WIDTH 56
#define SCREEN_HEIGHT 64

void flipdot_init();
void pixel_on(byte x, byte y);
void pixel_off(byte x, byte y);
void pixel(byte x_sane, byte y_sane, byte set);

static const byte A_CLOCK  = 13;
static const byte A_DATA   = 12;
static const byte A_LATCH  = 11;

static const byte B_CLOCK  = 10;
static const byte B_DATA   = 9;
static const byte B_LATCH  = 8;

static const unsigned char y_index[] =
{
	1, 4, 5, 2, 3,
	6, 7, 9, 12, 13,
	10, 11, 14, 15, 17,
	20, 21, 18, 19, 22,
	0, 0, 0, 0, 0
};


static const unsigned char x_index[] = {
	0x10, 0x08, 0x18, 0x04, 0x14, 0x0c, 0x1c, 0x12, 0x0a, 0x1a, 0x06, 0x16, 0x0e, 0x1e, 0x11, 0x09,
	0x19, 0x05, 0x15, 0x0d, 0x1d, 0x13, 0x0b, 0x1b, 0x07, 0x17, 0x0f, 0x1f, 0x10, 0x08, 0x18, 0x04,
	0x14, 0x0c, 0x1c, 0x12, 0x0a, 0x1a, 0x06, 0x16, 0x0e, 0x1e, 0x11, 0x09, 0x19, 0x05, 0x15, 0x0d,
	0x1d, 0x13, 0x0b, 0x1b, 0x07, 0x17, 0x0f, 0x1f, 0x10, 0x08, 0x18, 0x04, 0x14, 0x0c, 0x1c, 0x12,
	0x0a, 0x1a, 0x06, 0x16, 0x0e, 0x1e, 0x11, 0x09, 0x19, 0x05, 0x15, 0x0d, 0x1d, 0x13, 0x0b, 0x1b,
	0x07, 0x17, 0x0f, 0x1f, 0x10, 0x08, 0x18, 0x04, 0x14, 0x0c, 0x1c, 0x12, 0x0a, 0x1a, 0x06, 0x16,
	0x0e, 0x1e, 0x11, 0x09, 0x19, 0x05, 0x15, 0x0d, 0x1d, 0x13, 0x0b, 0x1b, 0x07, 0x17, 0x0f, 0x1f,
	0x10, 0x08, 0x18, 0x04, 0x14, 0x0c, 0x1c, 0x12,
};

static const unsigned char x_board[] = {
	0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
	0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08,
	0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
};


extern byte B_PORTB;
extern byte B_PORTC;
extern byte B_PORTD;

extern char SCREEN_INDEX;

#endif

